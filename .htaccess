# Enable URL rewriting
RewriteEngine On
RewriteBase /

# ğŸ”’ Disable directory listing
Options -Indexes

# ğŸš« Deny access to schema files
<FilesMatch "\.schema\.json$">
    Require all denied
</FilesMatch>

# ğŸš« Deny access to users.json
<Files "users.json">
    Require all denied
</Files>

# âœ… Only allow fetch.php to access JSON files
<FilesMatch "\.json$">
    Require all denied
</FilesMatch>

<Files "fetch.php">
    Require all granted
</Files>

# ğŸ”„ Optional route alias: /add â†’ adddata.php
RewriteRule ^add$ adddata.php [L]

# ğŸ”„ Pretty URL: /something â†’ something.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([a-zA-Z0-9_-]+)$ $1.php [L]

# ğŸ” Optional: Force HTTPS (uncomment to enable)
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
